# Telegram бот AgeDefiner на Java

English version is [here](README.en.md)

Бот умеет вычислять продолжительность чего-то между двумя датами (например возраст или опыт работы и т.д.).
Так же бот умеет производить арифмитические операции над этими продолжительностями.

Бот работает как интерпретатор команд. Поэтому с ним нужно общаться используя его синтаксис.

<h3>Описание возможностей и синтаксиса бота с примерами</h3>

---

1) Переменные задаются так
 
   _--config-alias Neo = Age(02.09.1964) -m"Возраст Киану Ривза"_

   _--config-alias T800 = Age(30.07.1947) -m"Возраст Арнольда"_

   _--config-alias aDiff = Diff(02.09.1964, 30.07.1947) -m"Разница между Шварцом и Киану"_
   
**Neo** - это переменная. Допустимы только символы 'a..Z' и цифры, регистр не имеет значения

**Age(02.09.1964)** - функция (формат даты только dd.mm.yyyy)

**-m"Возраст Киану Ривза"** - описание (опциональный параметр, обязательно в кавычках)

2) Можно вызывать переменные или функции

````
> Neo
Возраст Киану Ривза:
  58 years 1 month 10 days
````

````
> aDiff
Разница между Шварцом и Киану:
  17 years 1 month 3 days
````

````
> Diff(31.03.1999, 02.09.1964) -m"Возраст Киану на момент релиза Матрицы"
Возраст Киану на момент релиза Матрицы:
  34 years 6 months 29 days
````
Доступные функции: Age(d1) и Diff(d2, d1). Age -> Diff(Now(), d1)

3) Можно складывать и вычитать
````
> Age(30.07.1947) - Age(02.09.1964)
17 years 1 months 3 days
````

````
> T800 - Neo -m"Разница между Шварцом и Киану"
Разница между Шварцом и Киану:
  17 years 1 months 3 days
````

4) Поддерживается многострочный ввод
````
> Neo
> Diff(31.03.1999, 02.09.1964) -m"Возраст Киану на момент релиза Матрицы"
Возраст Киану Ривза:
  58 years 1 month 15 days
Возраст Киану на момент релиза Матрицы:
  34 years 6 months 29 days
````

5) Дополнительные возможности

_--config-alias-show Neo_ - показать ключ Neo
   
_--config-alias-show_ - показать все ключи

_--config-alias-delete aDiff_ - удалить ключ aDiff

_--config-alias-delete -all_ - удалить все ключи

<h3>Локальный запуск</h3>

---

Для создания тестового бота нужно обратиться к [BotFather](https://t.me/BotFather) и получить от него токен и userName бота.
Конфигурационный файл имеет следующий вид

````
BOT_USER_NAME = <BotUserName>
BOT_TOKEN = <Token>
````